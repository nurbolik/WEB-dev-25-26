Создайте дату
важность: 5
Создайте объект Date для даты: 20 февраля 2012 года, 3:12 утра. Часовой пояс — местный.

Отобразите его с помощью alert.

решение
Конструктор new Date использует местный часовой пояс. Поэтому важно помнить только то, что месяцы нумеруются с нуля.

Так, февраль — это первый месяц.

Вот пример с числами в качестве компонентов даты:

//new Date(year, month, date, hour, minute, second, millisecond)
let d1 = new Date(2012, 1, 20, 3, 12);
alert( d1 );
Мы также можем создать дату из строки, вот так:

//new Date(datastring)
let d2 = new Date("2012-02-20T03:12");
alert( d2 );

Показать день недели
важность: 5
Напишите функцию getWeekDay(date), которая будет отображать день недели в сокращенном формате: ‘MO’, ‘TU’, ‘WE’, ‘TH’, ‘FR’, ‘SA’, ‘SU’.

Например:

let date = new Date(2012, 0, 3);  // 3 Jan 2012
alert( getWeekDay(date) );        // should output "TU"
Откройте песочницу с тестами.

решение
Метод date.getDay() возвращает номер дня недели, начиная с воскресенья.

Давайте создадим массив с названиями дней недели, чтобы по номеру можно было получить соответствующее название:

function getWeekDay(date) {
  let days = ['SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'];

  return days[date.getDay()];
}

let date = new Date(2014, 0, 3); // 3 Jan 2014
alert( getWeekDay(date) ); // FR
Откройте решение с тестами в песочнице.


Европейский будний день
важность: 5
В европейских странах неделя начинается с понедельника (число 1), затем следует вторник (число 2) и так далее до воскресенья (число 7). Напишите функцию getLocalDay(date), которая возвращает «европейский» день недели для date.

let date = new Date(2012, 0, 3);  // 3 Jan 2012
alert( getLocalDay(date) );       // tuesday, should show 2
Откройте песочницу с тестами.

решение
function getLocalDay(date) {

  let day = date.getDay();

  if (day == 0) { // weekday 0 (sunday) is 7 in european
    day = 7;
  }

  return day;
}
Откройте решение с тестами в песочнице.


Какой день месяца был много дней назад?
важность: 4
Создайте функцию getDateAgo(date, days), которая будет возвращать день месяца days назад от date.

Например, если сегодня 20-е число, то getDateAgo(new Date(), 1) должно быть 19-м, а getDateAgo(new Date(), 2) — 18-м.

Должно работать стабильно для days=365 и более:

let date = new Date(2015, 0, 2);

alert( getDateAgo(date, 1) ); // 1, (1 Jan 2015)
alert( getDateAgo(date, 2) ); // 31, (31 Dec 2014)
alert( getDateAgo(date, 365) ); // 2, (2 Jan 2014)
P.S. Функция не должна изменять заданные date.

Откройте песочницу с тестами.

решение
Идея проста: вычесть заданное количество дней из date:

function getDateAgo(date, days) {
  date.setDate(date.getDate() - days);
  return date.getDate();
}
...Но функция не должна меняться date. Это важно, потому что внешний код, который возвращает нам дату, не предполагает, что она может измениться.

Чтобы это реализовать, давайте клонируем дату следующим образом:

function getDateAgo(date, days) {
  let dateCopy = new Date(date);

  dateCopy.setDate(date.getDate() - days);
  return dateCopy.getDate();
}

let date = new Date(2015, 0, 2);

alert( getDateAgo(date, 1) ); // 1, (1 Jan 2015)
alert( getDateAgo(date, 2) ); // 31, (31 Dec 2014)
alert( getDateAgo(date, 365) ); // 2, (2 Jan 2014)
Откройте решение с тестами в песочнице.


Последний день месяца?
важность: 5
Напишите функцию getLastDayOfMonth(year, month), которая возвращает последний день месяца. Иногда это 30-е, 31-е или даже 28/29 февраля.

Параметры:

year– четырехзначный год, например 2012.
month – месяц от 0 до 11.
Например, getLastDayOfMonth(2012, 1) = 29 (високосный год, февраль).

Откройте песочницу с тестами.

решение
Давайте создадим дату, используя следующий месяц, но указав в качестве дня число 0:

function getLastDayOfMonth(year, month) {
  let date = new Date(year, month + 1, 0);
  return date.getDate();
}

alert( getLastDayOfMonth(2012, 0) ); // 31
alert( getLastDayOfMonth(2012, 1) ); // 29
alert( getLastDayOfMonth(2013, 1) ); // 28
Обычно отсчет дат начинается с 1, но технически мы можем указать любое число, и дата скорректируется автоматически. Если мы укажем 0, это будет означать «за день до 1-го числа месяца», другими словами, «последний день предыдущего месяца».

Откройте решение с тестами в песочнице.


Сколько секунд прошло сегодня?
важность: 5
Напишите функцию getSecondsToday(), которая возвращает количество секунд, прошедших с начала сегодняшнего дня.

Например, если сейчас 10:00 am, а переход на летнее время не проводился, то:

getSecondsToday() == 36000 // (3600 * 10)
Функция должна работать в любой день. То есть в ней не должно быть жестко заданного значения «сегодня».

решение
Чтобы получить количество секунд, мы можем сгенерировать дату, используя текущий день и время 00:00:00, а затем вычесть ее из текущего времени.

Разница — это количество миллисекунд, прошедших с начала дня, которое нужно разделить на 1000, чтобы получить количество секунд:

function getSecondsToday() {
  let now = new Date();

  // create an object using the current day/month/year
  let today = new Date(now.getFullYear(), now.getMonth(), now.getDate());

  let diff = now - today; // ms difference
  return Math.round(diff / 1000); // make seconds
}

alert( getSecondsToday() );
Альтернативным решением может быть получение значений в часах, минутах и секундах и их преобразование в секунды:

function getSecondsToday() {
  let d = new Date();
  return d.getHours() * 3600 + d.getMinutes() * 60 + d.getSeconds();
}

alert( getSecondsToday() );